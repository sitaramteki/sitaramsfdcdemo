<template>
    <div class="slds-box slds-var-p-around_small" style="background-color: rgb(210, 244, 250);">
        <div>
            <h1 class="slds-var-p-top_medium slds-theme_shade slds-box slds-text-title slds-text-align_center"
            style="background-color: white; color:Green; font-size:20px; font-weight:bold">
            Search Open Case Number
            </h1>
        </div>
        <lightning-input label="" placeholder="Case Number" value={searchCaseNumber}
            onchange={caseNumberChange}></lightning-input>
        <template if:true={cases}>
            <div class="slds-grid slds-wrap slds-gutters">
                <template for:each={cases} for:item="eachCase">
                    <div class="slds-col slds-size_1-of-2 slds-var-p-around_small" key={eachCase.Id}>
                        <lightning-card title={eachCase.CaseNumber} key={eachCase.Id}>
                            <div slot="actions" class="slds-var-p-around_small">
                                <template if:true={eachCase.IsClosed}>
                                    <span style="font-weight: bold;color: green;">Already Closed</span>
                                </template>
                                <template if:false={eachCase.IsClosed}>
                                    <span style="font-weight: bold;color: green;">{eachCase.Status}</span>
                                    <!--<lightning-button variant="success" label="Close Case" name={eachCase.Id}
                                        value={eachCase.Id} onclick={passCaseToClose} onsuccess={showtost}></lightning-button>-->
                                </template>
                               <!---- <template if:true={eachCase}>
                                    <lightning-button variant="success" label="View Details" name={eachCase.Id}
                                        value={eachCase.Id} onclick={viewcasedetails} onsuccess={showtost}></lightning-button>
                                </template>-->
                            </div>
                           <!-- <p class="slds-var-p-horizontal_small">
                                <span style="color: black;font-size:20px">{eachCase.CaseNumber}</span>
                            </p>-->
                            <p class="slds-var-p-horizontal_small">
                                <span style="color: crimson;">Account Name:</span>{eachCase.Account.Name}
                            </p>
                            <p class="slds-var-p-horizontal_small">
                                <span style="color: crimson;">Status :</span>{eachCase.Status}
                            </p>
                            <p class="slds-var-p-horizontal_small">
                                <span style="color: crimson;">Priority :</span>{eachCase.Priority}
                            </p>
                            <p class="slds-var-p-horizontal_small">
                                <span style="color: crimson;">Description :</span>{eachCase.Description}
                            </p>
                            <p>
                                <lightning-button-group class ="slds-var-p-top_x-small  slds-align_absolute-center">
                                    <lightning-button 
                                        class ="slds-var-p-around_small" 
                                        variant ="success" 
                                        label="View Details" 
                                        name={eachCase.Id} 
                                        value={eachCase.Id} 
                                        onclick={viewcasedetails} 
                                        onsuccess={showtost}>
                                    </lightning-button>
                                    <lightning-button 
                                        class ="slds-var-p-around_small" 
                                        variant="success"
                                        label="Close Case"
                                        name={eachCase.Id}
                                        value={eachCase.Id} 
                                        onclick={passCaseToClose} 
                                        onsuccess={showtost}>
                                    </lightning-button>
                            </lightning-button-group>
                           </p>
                            <!--<p class="slds-text-align_right">
                                <lightning-button variant="success" label="View Details" name={eachCase.Id} value={eachCase.Id} onclick={viewcasedetails} onsuccess={showtost}></lightning-button>
                            </p>-->
                            <p style="color: rgb(10, 63, 163);" slot="footer">
                                {eachCase.Subject}
                            </p>
                        </lightning-card>
                    </div>
                </template>
            </div>
        </template>
    </div>
</template>